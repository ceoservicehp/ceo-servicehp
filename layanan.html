<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Form Service ‚Äî CEO Service HP</title>

<link rel="stylesheet" href="css/layanan.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>

</head>
<body>

<header>
  <div id="logo-container">
    <img src="images/logo.png" width="55">

    <div>
      <h1>CEO ORDER SERVICE</h1>
      <div class="tagline">CELLULAR ENGINEER OFFICER</div>
    </div>
  </div>
</header>

<!-- NAV -->
<nav class="top-nav">
<a href="index.html" class="nav-btn">
<i class="fa-solid fa-house"></i> Beranda
</a>

<a href="#produk-section" class="nav-btn">
<i class="fa-solid fa-mobile-screen"></i> Produk
</a>

<a href="#informasi" class="nav-btn">
<i class="fa-solid fa-info-circle"></i> Informasi
</a>
</nav>

<!-- FORM -->
<section class="form-section">

<h2>Form Service</h2>

<label>Nama Lengkap</label>
<input type="text" id="customer-name">

<label>Alamat Detail</label>
<textarea id="customer-address"></textarea>

<label>No HP</label>
<input type="tel" id="customer-phone">

<label>Merk HP</label>
<input type="text" id="customer-brand">

<label>Keluhan</label>
<textarea id="customer-problem"></textarea>

<label>Metode Service</label>
<select id="service-option">
<option value="">Pilih metode</option>
<option value="Home Service">Home Service</option>
<option value="Kirim Paket">Kirim Paket</option>
<option value="Datang ke Toko">Datang ke Toko</option>
</select>

<!-- ALAMAT TOKO -->
<div id="alamat-toko" style="display:none;margin-top:10px">
<b>Alamat Toko:</b><br>
Jl. Contoh No 123<br>
Kota Kamu
</div>

<!-- MAP -->
<div id="map-section" style="display:none">
<label>Lokasi Anda</label>
<input type="text" id="customer-coord" readonly>

<button type="button" id="getLocation">
üìç Gunakan Lokasi Saya
</button>

<div id="map" style="height:250px;margin-top:10px;border-radius:10px;"></div>
<small>Klik map untuk pilih lokasi manual</small>
</div>

<!-- ONGKIR -->
<div id="transport-section" style="display:none">
<label>Biaya Transport</label>
<input type="text" id="transport-fee" readonly value="Rp 0">
<div id="distance-info" style="font-size:12px;color:#666;margin-top:5px;"></div>
</div>

<!-- METODE PEMBAYARAN (HANYA HOME SERVICE) -->
<div id="payment-section" style="display:none;margin-top:15px;">
  <label for="payment-method">Metode Pembayaran</label>
  <select id="payment-method">
    <option value="">-- Pilih --</option>
    <option value="Transfer">Transfer Bank</option>
    <option value="QRIS">QRIS</option>
  </select>

  <div id="payment-info" style="margin-top:10px;font-size:13px;color:#444;"></div>
</div>

<!-- BUKTI -->
<div id="payment-proof-section" style="display:none">
<label>Bukti Transfer Transport</label>
<input type="file" id="payment-proof">
</div>

<!-- ================= KERANJANG SPAREPART ================= -->
<div id="cart-box" style="display:none">
<h3 style="margin-top:20px;color:#1f6f78">Sparepart Dipilih</h3>
<div id="cart-items"></div>
</div>

<!-- RINGKASAN -->
<div class="summary-box">

<div class="summary-row">
<span>Total Sparepart</span>
<span id="sparepart-price">Rp 0</span>
</div>

<div class="summary-row" id="transport-row" style="display:none;">
<span>Biaya Transport</span>
<span id="transport-price">Rp 0</span>
</div>

<div class="summary-row summary-total">
<span>Total Estimasi</span>
<span id="total-price">Rp 0</span>
</div>

<small>Biaya jasa diinformasikan setelah pengecekan teknisi</small>

</div>

<button id="checkout" class="btn-submit">
Kirim Permintaan Service
</button>

</section>


<!-- PRODUK -->
<section class="form-section" id="produk-section">

<h2>Tambah Sparepart (Opsional)</h2>

<p style="font-size:13px;color:#666;margin-bottom:10px">
Silakan pilih sparepart jika diperlukan. Tidak memilih juga tetap bisa kirim permintaan service.
</p>

<div class="sparepart-tools">

  <div class="search-box-sp">
    <i class="fa-solid fa-magnifying-glass"></i>
    <input type="text"
           id="searchSparepart"
           placeholder="Cari sparepart...">
  </div>
  <select id="filterCategory">
    <option value="">Semua Kategori</option>
  </select>
  
</div>
<div id="products-container" class="products-grid"></div>
</section>

<!-- MODAL -->
<div id="product-modal" class="modal hidden">
<div class="modal-content">

<span id="close-product-modal" class="btn-close">&times;</span>

<img id="modal-product-img" class="modal-img">
<h2 id="modal-product-name"></h2>
<p id="modal-product-price"></p>
<p id="modal-product-desc"></p>

<button id="modal-add-cart" class="btn-add">
Tambah Sparepart
</button>

</div>
</div>

<footer>
¬© 2026 CEO Service HP ‚Äî All Rights Reserved
</footer>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<!-- 1. LIBRARY SUPABASE -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<!-- 2. CONFIG CLIENT -->
<script src="js/supabase.js"></script>
<script src="js/auth.js"></script>
<script src="js/role_guard.js"></script>
<script src="js/layanan.js"></script>
  
</body>
</html>
